<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recetas M√©dicas - Team Overview</title>
    <link rel="stylesheet" href="../CSS/style_recipe.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div class="main-container">
        <!-- Header -->
        <div class="header">
            <h1>üìã Recetas M√©dicas</h1>
            <a href="main_menu.html" class="btn-back">‚Üê Volver al Men√∫</a>
        </div>

        <!-- Selector de Paciente -->
        <div class="selector-patient-container">
            <label for="patients-options" class="selector-label">üë§ Seleccionar Paciente:</label>
            <select id="patients-options" class="patient-select-control" required>
                <option value="">-- Seleccione un paciente --</option>
            </select>
        </div>

        <div class="content-grid">
            <div class="new-recipe-container">
                <section class="new-recipe-panel">
                    <h2 class="panel-subtitle">‚úö Registrar Nueva Receta M√©dica</h2>
                    <form id="new-recipe-form" class="new-recipe-form">
                        <label for="medication-name">Nombre del Medicamento:</label>
                        <input type="text" id="medication-name" name="medication-name" 
                               placeholder="Ej: Metformina" required>

                        <label for="medication-type">Tipo de Medicamento:</label>
                        <select name="medication-type" id="medication-type" required>
                            <option value="">-- Seleccione tipo --</option>
                            <option value="Pastilla">Pastilla</option>
                            <option value="C√°psula">C√°psula</option>
                            <option value="Inyecci√≥n">Inyecci√≥n</option>
                            <option value="Jarabe">Jarabe</option>
                            <option value="Crema">Crema</option>
                            <option value="Gotas">Gotas</option>
                        </select>

                        <label for="dosage">Dosis:</label>
                        <input type="text" id="dosage" name="dosage" 
                               placeholder="Ej: 500mg" required>

                        <label for="frequency">Frecuencia:</label>
                        <input type="text" id="frequency" name="frequency" 
                               placeholder="Ej: Cada 8 horas" required>

                        <label for="duration">Duraci√≥n del Tratamiento:</label>
                        <input type="text" id="duration" name="duration" 
                               placeholder="Ej: 7 d√≠as" required>

                        <label for="additional-notes">Notas Adicionales:</label>
                        <textarea id="additional-notes" name="additional-notes" 
                                  placeholder="Instrucciones especiales, recomendaciones, etc."></textarea>

                        <button type="submit" id="save-recipe-btn">üíæ Guardar Receta</button>
                        <p id="form-message" class="message" style="display: none;"></p>
                    </form>
                </section>
            </div>

            <!-- Historial de Recetas -->
            <div class="record-recipe-container">
                <h2>üìú Historial de Recetas del Paciente</h2>
                <ul id="recipe-list" class="recipe-list">
                    <li class="loading">Seleccione un paciente para ver sus recetas...</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="../JS/scripts/script_recipe.js" defer></script>
    <script src="../JS/backendrecetas.js"></script>
</body>
</html>